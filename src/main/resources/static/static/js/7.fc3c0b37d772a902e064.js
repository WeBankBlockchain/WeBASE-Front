(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"/0Jq":function(e,t,n){},"8oDB":function(e,t,n){"use strict";var r=n("Cb9/");n.n(r).a},"8t7H":function(e,t,n){"use strict";var r=n("uXmc");n.n(r).a},"Cb9/":function(e,t,n){},Iab2:function(e,t,n){(function(n){var r,o,a;o=[],void 0===(a="function"==typeof(r=function(){"use strict";function t(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){s(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function r(e){var t=new XMLHttpRequest;return t.open("HEAD",e,!1),t.send(),200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,s=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype?function(e,n,s){var i=a.URL||a.webkitURL,c=document.createElement("a");n=n||e.name||"download",c.download=n,c.rel="noopener","string"==typeof e?(c.href=e,c.origin===location.origin?o(c):r(c.href)?t(e,n,s):o(c,c.target="_blank")):(c.href=i.createObjectURL(e),setTimeout(function(){i.revokeObjectURL(c.href)},4e4),setTimeout(function(){o(c)},0))}:"msSaveOrOpenBlob"in navigator?function(e,n,a){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,a),n);else if(r(e))t(e,n,a);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout(function(){o(s)})}}:function(e,n,r,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof e)return t(e,n,r);var s="application/octet-stream"===e.type,i=/constructor/i.test(a.HTMLElement)||a.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||s&&i)&&"object"==typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=e:location=e,o=null},u.readAsDataURL(e)}else{var l=a.URL||a.webkitURL,p=l.createObjectURL(e);o?o.location=p:location.href=p,o=null,setTimeout(function(){l.revokeObjectURL(p)},4e4)}});a.saveAs=s.saveAs=s,e.exports=s})?r.apply(t,o):r)||(e.exports=a)}).call(this,n("yLpj"))},YUMh:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"rivate-key-management-wrapper"},[n("v-contentHead",{attrs:{headTitle:"私钥管理"}}),e._v(" "),n("div",{staticClass:"module-wrapper",staticStyle:{"padding-bottom":"20px"}},[n("div",{staticClass:"search-part"},[n("div",{staticStyle:{display:"flex"}},[n("el-button",{staticClass:"search-part-left-btn",attrs:{type:"primary"},on:{click:function(t){e.$store.dispatch("switch_creat_user_dialog")}}},[e._v("新增账户")]),e._v(" "),n("span",{staticClass:"fileinput-button"},[n("span",[e._v("导入私钥")]),e._v(" "),n("input",{attrs:{type:"file"},on:{change:function(t){e.importFile(t)}}})])],1)]),e._v(" "),n("div",{staticClass:"search-table"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.privateKeyList,"tooltip-effect":"light"}},e._l(e.privateKeyHead,function(t){return n("el-table-column",{key:t.enName,attrs:{label:t.name,"show-overflow-tooltip":"",width:e.tdWidth[t.enName]||"",align:"center"},scopedSlots:e._u([{key:"default",fn:function(r){return["operate"!=t.enName?["address"===t.enName?n("span",[n("i",{staticClass:"wbs-icon-copy font-12 copy-public-key",attrs:{title:"复制地址"},on:{click:function(n){e.copyPubilcKey(r.row[t.enName])}}}),e._v("\n                                "+e._s(r.row[t.enName])+"\n                            ")]):n("span",[e._v(e._s(r.row[t.enName]))])]:[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){e.exportFile(r.row)}}},[e._v("导出")])]]}}])})}),1)],1)]),e._v(" "),e.$store.state.creatUserVisible?n("el-dialog",{staticClass:"dialog-wrapper",attrs:{visible:e.$store.state.creatUserVisible,title:"新建用户",width:"952px","append-to-body":!0,center:""},on:{"update:visible":function(t){e.$set(e.$store.state,"creatUserVisible",t)}}},[n("v-creatUser",{ref:"creatUser",on:{creatUserSuccess:e.creatUserSuccess}})],1):e._e()],1)};r._withStripped=!0;var o=n("gDS+"),a=n.n(o),s=n("qse9"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"key-dialog"},[n("div",{staticClass:"divide-line"}),e._v(" "),n("div",{staticStyle:{"margin-bottom":"10px"}},[n("table",{staticClass:"rivate-key-dialog"},e._l(e.privateKeyMap,function(t,r){return n("tr",[n("td",{staticClass:"dialog-text"},[e._v("\n                    "+e._s(e.transferCh(r))+"："+e._s(t)+"\n                    "),n("i",{staticClass:"wbs-icon-copy font-12",staticStyle:{"margin-left":"5px"},attrs:{title:"复制"+e.transferCh(r)},on:{click:function(n){e.copyAddress(t)}}})])])}),0),e._v(" "),n("i",{staticClass:"el-icon-warning font-color-ed5454"},[e._v(" 请记得保存私钥！ ")])])])};i._withStripped=!0;var c=n("mHBk"),u=(n("p5Bo"),n("DgvE")),l={name:"AddUser",data:function(){return{privateKeyMap:{},privateKeyList:sessionStorage.getItem("privateKeyList")?JSON.parse(sessionStorage.getItem("privateKeyList")):[]}},mounted:function(){this.addUser()},methods:{addUser:function(){var e=this;Object(c.q)({},{useAes:!1}).then(function(t){var n=t.data;200===t.status?(e.privateKeyMap=n,e.privateKeyList.unshift(n),e.privateKeyList=Object(u.i)(e.privateKeyList,"privateKey"),e.$emit("creatUserSuccess",e.privateKeyList),sessionStorage.setItem("privateKeyList",a()(e.privateKeyList))):e.$message({type:"error",message:n.errorMessage||"系统错误"})}).catch(function(t){e.$message({type:"error",message:"系统错误"})})},transferCh:function(e){var t="";switch(e){case"publicKey":t="用户公钥";break;case"privateKey":t="用户私钥";break;case"address":t="用户地址"}return t},copyAddress:function(e){var t=this;e?this.$copyText(e).then(function(e){t.$message({type:"success",showClose:!0,message:"复制成功",duration:2e3})}):this.$message({type:"fail",showClose:!0,message:"address为空，不复制。",duration:2e3})}}},p=(n("8oDB"),n("KHd+")),d=Object(p.a)(l,i,[],!1,null,"3639a935",null);d.options.__file="src/views/rivateKeyManagement/components/creatUser.vue";var f=d.exports,g=n("J66h").Base64,m=n("Iab2"),v={name:"RivateKeyManagement",components:{"v-contentHead":s.a,"v-creatUser":f},data:function(){return{userName:this.$route.query.userName||"",loading:!1,privateKeyList:sessionStorage.getItem("privateKeyList")?JSON.parse(sessionStorage.getItem("privateKeyList")):[],privateKeyHead:[{enName:"address",name:"地址"},{enName:"publicKey",name:"公钥"},{enName:"operate",name:"操作"}],tdWidth:{},fileString:"",uploadMap:{}}},mounted:function(){},methods:{handleClose:function(){this.$refs.creatUser.modelClose()},copyPubilcKey:function(e){var t=this;e?this.$copyText(e).then(function(e){t.$message({type:"success",showClose:!0,message:"复制成功",duration:2e3})}):this.$message({type:"fail",showClose:!0,message:"key为空，不复制。",duration:2e3})},creatUserSuccess:function(e){this.privateKeyList=e},exportFile:function(e){var t=a()(e),n=new Blob([t],{type:"text;charset=utf-8"});m.saveAs(n,"key")},importFile:function(e){if(e.target.files.length){this.fileString="";var t=e.target.files[0],n=(Math.ceil(t.size/1024),new FileReader);n.readAsText(t,"UTF-8");var r=this;n.onload=function(e){r.fileString=e.target.result;try{var t={privateKey:g.encode(JSON.parse(r.fileString).privateKey)};Object(c.t)({},t).then(function(e){var t=e.data;200===e.status?(localStorage.setItem("keyInfo",a()(t)),r.uploadMap=JSON.parse(r.fileString),r.privateKeyList.unshift(r.uploadMap),r.privateKeyList=Object(u.i)(r.privateKeyList,"privateKey"),sessionStorage.setItem("privateKeyList",a()(r.privateKeyList)),r.$message({type:"success",message:"导入成功"})):r.$message({type:"error",message:t.errorMessage||"系统错误"})}).catch(function(e){r.$message({type:"error",message:"系统错误"})})}catch(e){r.$message({type:"error",message:"导入失败"})}}}}}},h=(n("rYv6"),Object(p.a)(v,r,[],!1,null,"117650a5",null));h.options.__file="src/views/rivateKeyManagement/rivateKeyManagement.vue";t.default=h.exports},mHBk:function(e,t,n){"use strict";var r=n("4d7F"),o=n.n(r),a=n("vDqi"),s=n.n(a),i=n("oYx3"),c=s.a.create({timeout:3e4});c.defaults.headers.post["X-Requested-With"]="XMLHttpRequest",c.defaults.responseType="json",c.defaults.validateStatus=function(){return!0},c.interceptors.response.use(function(e){return e.data&&302e3===e.data.code&&i.a.push({path:"/",query:{redirect:i.a.currentRoute.fullPath}}),e},function(e){return o.a.reject(e)});function u(e){return new o.a(function(t,n){c(e).then(function(e){t(e)}).catch(function(e){n(e)})})}function l(e){return new o.a(function(t,n){c(e).then(function(e){t(e)}).catch(function(e){n(e)})})}function p(e){return new o.a(function(t,n){c(e).then(function(e){t(e)}).catch(function(e){n(e)})})}function d(e){return new o.a(function(t,n){c(e).then(function(e){t(e)}).catch(function(e){n(e)})})}var f=n("DgvE");n("Qyje");n.d(t,"B",function(){return m}),n.d(t,"d",function(){return v}),n.d(t,"g",function(){return h}),n.d(t,"c",function(){return y}),n.d(t,"h",function(){return b}),n.d(t,"k",function(){return w}),n.d(t,"i",function(){return _}),n.d(t,"m",function(){return S}),n.d(t,"l",function(){return L}),n.d(t,"p",function(){return O}),n.d(t,"j",function(){return k}),n.d(t,"n",function(){return C}),n.d(t,"r",function(){return I}),n.d(t,"q",function(){return K}),n.d(t,"t",function(){return j}),n.d(t,"o",function(){return T}),n.d(t,"v",function(){return x}),n.d(t,"z",function(){return N}),n.d(t,"x",function(){return $}),n.d(t,"s",function(){return R}),n.d(t,"w",function(){return U}),n.d(t,"y",function(){return q}),n.d(t,"A",function(){return M}),n.d(t,"e",function(){return E}),n.d(t,"C",function(){return H}),n.d(t,"b",function(){return B}),n.d(t,"f",function(){return A}),n.d(t,"D",function(){return G}),n.d(t,"u",function(){return V});var g=null;function m(e){return p({url:url.ORG_LIST+"/account/passwordUpdate",method:"put",data:e})}function v(e){return l({url:url.ORG_LIST+"/network/transDaily/"+e,method:"get"})}function h(e){return l({url:url.ORG_LIST+"/network/general/"+e,method:"get"})}function y(e,t){var n=Object(f.g)(e,t);return l({url:url.ORG_LIST+"/block/blockList/"+n.str,method:"get",params:n.querys})}function b(e,t){var n=Object(f.g)(e,t);return l({url:url.FRONT_PROXY+"/node/nodeList/"+n.str,method:"get",params:n.querys})}function w(e,t){var n=Object(f.g)(e,t);return l({url:url.ORG_LIST+"/monitor/transList/"+n.str,method:"get",params:n.querys})}function _(e,t){var n=Object(f.g)(e,t);return l({url:url.ORG_LIST+"/transaction/transList/"+n.str,method:"get",params:n.querys})}function S(e,t){var n=Object(f.g)(e,t);return l({url:url.ORG_LIST+"/monitor/userList/"+n.str,method:"get",params:n.querys})}function L(e,t){var n=Object(f.g)(e,t);return l({url:url.ORG_LIST+"/monitor/interfaceList/"+n.str,method:"get",params:n.querys})}function O(e){return l({url:""+g+e+"/web3/clientVersion",method:"get"})}function k(e,t){var n=Object(f.g)(e,t);return l({url:g+"performance/"+n.str,method:"get",params:n.querys})}function C(e,t){var n=Object(f.g)(e,t);return l({url:g+"chain/"+n.str,method:"get",params:n.querys})}function I(){return l({url:g+"1/web3/groupList",method:"get"})}function K(e,t){var n=Object(f.g)(e,t);return l({url:g+"privateKey",method:"get",params:n.querys})}function j(e,t){var n=Object(f.g)(e,t);return l({url:g+"privateKey/import",method:"get",params:n.querys})}function T(e){return l({url:""+g+e+"/web3/blockNumber",method:"get"})}function x(e){return l({url:""+g+e+"/web3/groupPeers",method:"get"})}function N(e){return l({url:""+g+e+"/web3/transaction-total",method:"get"})}function $(e){return l({url:""+g+e+"/web3/pending-transactions-count",method:"get"})}function R(e,t){var n=Object(f.g)(e,t);return l({url:""+g+e+"/web3/search",method:"get",params:n.querys,responseType:"json"})}function U(e){return l({url:""+g+e+"/web3/getNodeStatusList",method:"get"})}function q(e,t){return l({url:""+g+e+"/web3/transaction/"+t,method:"get"})}function M(e,t){return l({url:""+g+e+"/web3/transactionReceipt/"+t,method:"get"})}function E(e){return l({url:g+"contract/contractList",method:"post",data:e})}function H(e){return u({url:g+"contract/save",method:"post",data:e})}function B(e,t){var n=Object(f.g)(e,t);return d({url:g+"contract/"+n.str,method:"delete"})}function A(e){return u({url:g+"contract/deploy",method:"post",data:e,responseType:"text"})}function G(e){return u({url:g+"trans/handle",method:"post",data:e})}function V(e,t){return u({url:g+"contract/compile-java",method:"post",data:e,responseType:"blob/json"})}g=""},qse9:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content-head-wrapper"},[n("div",{staticClass:"content-head-title"},[e.icon?n("span",{staticClass:"content-head-icon",on:{click:e.skip}},[n("i",{staticClass:"wbs-icon-back"})]):e._e(),e._v(" "),n("span",{class:{"font-color-9da2ab":e.headSubTitle}},[e._v(e._s(e.title))]),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:e.headSubTitle,expression:"headSubTitle"}],staticClass:"font-color-9da2ab"},[e._v("/")]),e._v(" "),n("span",[e._v(e._s(e.headSubTitle))])]),e._v(" "),n("div",{staticClass:"content-head-network"},[e.version?n("div",{staticClass:"content-head-item font-color-8798ad"},[n("span",[e._v("当前版本:"+e._s(e.version))])]):e._e(),e._v(" "),n("div",{staticClass:"content-head-item"},[n("span",{staticStyle:{padding:"1px 5px","border-left":"1px solid #657d95"}}),e._v(" "),n("span",{staticClass:"font-color-fff group-content",on:{click:function(t){e.groupVisible=!e.groupVisible}}},[e._v("\n                群组："+e._s(e.groupName)+"\n                "),n("ul",{directives:[{name:"show",rawName:"v-show",value:e.groupVisible,expression:"groupVisible"}]},e._l(e.groupList,function(t){return n("li",{key:t.group,on:{click:function(n){e.changeGroup(t)}}},[e._v(e._s(t.groupName))])}),0)]),e._v(" "),n("i",{class:[e.groupVisible?"el-icon-arrow-up":"el-icon-arrow-down","select-network"]})])])])};r._withStripped=!0;var o=n("gDS+"),a=n.n(o),s=n("oYx3"),i=n("mHBk"),c=(n("DgvE"),{name:"conetnt-head",props:["headTitle","icon","route","headSubTitle"],components:{},watch:{headTitle:function(e){this.title=e}},data:function(){return{title:this.headTitle,headIcon:this.icon||!1,way:this.route||"",path:"",group:localStorage.getItem("groupId")?localStorage.getItem("groupId"):"1",groupName:localStorage.getItem("groupName")?localStorage.getItem("groupName"):"group1",groupVisible:!1,groupList:localStorage.getItem("cluster")?JSON.parse(localStorage.getItem("cluster")):[],version:localStorage.getItem("fisco-bcos-version")?localStorage.getItem("fisco-bcos-version"):""}},mounted:function(){localStorage.getItem("groupId")&&(this.group=localStorage.getItem("groupId")),"/home"==this.$route.path&&(this.getGroup(),this.getClientVersion())},methods:{getClientVersion:function(){var e=this;Object(i.p)(this.group).then(function(t){var n=t.data,r=t.status;t.statusText;200===r?(e.version=n["FISCO-BCOS Version"],localStorage.setItem("fisco-bcos-version",e.version)):e.$message({type:"error",message:n.errorMessage||"系统错误"})}).catch(function(t){e.$message({type:"error",message:"系统错误"})})},getGroup:function(){var e=this;Object(i.r)().then(function(t){var n=t.data,r=t.status;t.statusText;if(200===r){for(var o=n.sort(),s=[],i=0;i<o.length;i++)s.push({group:o[i],groupName:"group"+o[i]});e.groupList=s,localStorage.setItem("groupId",e.group),localStorage.setItem("cluster",a()(s))}else e.$message({type:"error",message:n.errorMessage||"系统错误"})}).catch(function(t){e.$message({type:"error",message:"系统错误"})})},skip:function(){this.route?s.a.push(this.way):this.$router.go(-1)},changeGroup:function(e){this.group=e.group,this.groupName=e.groupName,this.path=this.$route.path,localStorage.setItem("groupId",this.group),localStorage.setItem("groupName",this.groupName),this.$emit("changeGroup",this.group),this.getClientVersion()}}}),u=(n("8t7H"),n("KHd+")),l=Object(u.a)(c,r,[],!1,null,"7ba17399",null);l.options.__file="src/components/contentHead.vue";t.a=l.exports},rYv6:function(e,t,n){"use strict";var r=n("/0Jq");n.n(r).a},uXmc:function(e,t,n){}}]);