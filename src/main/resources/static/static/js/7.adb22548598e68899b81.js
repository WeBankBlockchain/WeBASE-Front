(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"/0Jq":function(e,t,r){},"8oDB":function(e,t,r){"use strict";var n=r("Cb9/");r.n(n).a},"8t7H":function(e,t,r){"use strict";var n=r("uXmc");r.n(n).a},"Cb9/":function(e,t,r){},Iab2:function(e,t,r){(function(r){var n,a,o;a=[],void 0===(o="function"==typeof(n=function(){"use strict";function t(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){s(n.response,t,r)},n.onerror=function(){console.error("could not download file")},n.send()}function n(e){var t=new XMLHttpRequest;return t.open("HEAD",e,!1),t.send(),200<=t.status&&299>=t.status}function a(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof r&&r.global===r?r:void 0,s=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype?function(e,r,s){var i=o.URL||o.webkitURL,c=document.createElement("a");r=r||e.name||"download",c.download=r,c.rel="noopener","string"==typeof e?(c.href=e,c.origin===location.origin?a(c):n(c.href)?t(e,r,s):a(c,c.target="_blank")):(c.href=i.createObjectURL(e),setTimeout(function(){i.revokeObjectURL(c.href)},4e4),setTimeout(function(){a(c)},0))}:"msSaveOrOpenBlob"in navigator?function(e,r,o){if(r=r||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,o),r);else if(n(e))t(e,r,o);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout(function(){a(s)})}}:function(e,r,n,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof e)return t(e,r,n);var s="application/octet-stream"===e.type,i=/constructor/i.test(o.HTMLElement)||o.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||s&&i)&&"object"==typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=e:location=e,a=null},u.readAsDataURL(e)}else{var l=o.URL||o.webkitURL,p=l.createObjectURL(e);a?a.location=p:location.href=p,a=null,setTimeout(function(){l.revokeObjectURL(p)},4e4)}});o.saveAs=s.saveAs=s,e.exports=s})?n.apply(t,a):n)||(e.exports=o)}).call(this,r("yLpj"))},YUMh:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"rivate-key-management-wrapper"},[r("v-contentHead",{attrs:{headTitle:"私钥管理"}}),e._v(" "),r("div",{staticClass:"module-wrapper",staticStyle:{"padding-bottom":"20px"}},[r("div",{staticClass:"search-part"},[r("div",{staticStyle:{display:"flex"}},[r("el-button",{staticClass:"search-part-left-btn",attrs:{type:"primary"},on:{click:e.creatUserBtn}},[e._v("新增用户")]),e._v(" "),r("span",{staticClass:"fileinput-button"},[r("span",[e._v("导入私钥")]),e._v(" "),r("input",{attrs:{type:"file"},on:{change:function(t){e.importFile(t)}}})])],1)]),e._v(" "),r("div",{staticClass:"search-table"},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.privateKeyList,"tooltip-effect":"light"}},e._l(e.privateKeyHead,function(t){return r("el-table-column",{key:t.enName,attrs:{label:t.name,"show-overflow-tooltip":"",width:t.tdWidth,align:"center"},scopedSlots:e._u([{key:"default",fn:function(n){return["operate"!=t.enName?["address"===t.enName?r("span",[r("i",{staticClass:"wbs-icon-copy font-12 copy-public-key",attrs:{title:"复制地址"},on:{click:function(r){e.copyPubilcKey(n.row[t.enName])}}}),e._v("\n                                "+e._s(n.row[t.enName])+"\n                            ")]):r("span",[e._v(e._s(n.row[t.enName]))])]:[r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){e.exportFile(n.row)}}},[e._v("导出")])]]}}])})}),1)],1)]),e._v(" "),e.creatUserNameVisible?r("el-dialog",{staticClass:"dialog-wrapper",attrs:{visible:e.creatUserNameVisible,title:"添加用户名",width:"400px",center:""},on:{"update:visible":function(t){e.creatUserNameVisible=t},close:e.closeCallback}},[r("el-form",{ref:"userForm",attrs:{rules:e.rules,model:e.userForm}},[r("el-form-item",{attrs:{label:"",prop:"userName"}},[r("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.userForm.userName,callback:function(t){e.$set(e.userForm,"userName",t)},expression:"userForm.userName"}})],1)],1),e._v(" "),r("div",{staticClass:"text-right send-btn",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.closeUserName}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.sureUserName("userForm")}}},[e._v("确 定")])],1)],1):e._e(),e._v(" "),e.creatUserVisible?r("el-dialog",{staticClass:"dialog-wrapper",attrs:{visible:e.creatUserVisible,title:"新建成功",width:"400px","append-to-body":!0,center:""},on:{"update:visible":function(t){e.creatUserVisible=t}}},[r("v-creatUser",{ref:"creatUser",attrs:{userForm:e.userForm},on:{creatUserSuccess:e.creatUserSuccess}})],1):e._e()],1)};n._withStripped=!0;var a=r("gDS+"),o=r.n(a),s=r("qse9"),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"key-dialog"},[r("div",{staticClass:"divide-line"}),e._v(" "),r("div",{staticStyle:{"margin-bottom":"10px"}},[r("table",{staticClass:"rivate-key-dialog"},e._l(e.privateKeyMap,function(t,n){return r("tr",["userName"!=n?r("td",[r("el-tooltip",{attrs:{content:t,placement:"top",effect:"light"}},[r("span",{staticClass:"dialog-text"},[e._v("\n                            "+e._s(e.transferCh(n))+"："+e._s(t)+"\n                        ")])]),e._v(" "),r("i",{staticClass:"wbs-icon-copy font-12",staticStyle:{"margin-left":"5px"},attrs:{title:"复制"+e.transferCh(n)},on:{click:function(r){e.copyAddress(t)}}})],1):e._e()])}),0),e._v(" "),r("i",{staticClass:"el-icon-warning font-color-ed5454"},[e._v(" 请记得保存私钥！ ")])])])};i._withStripped=!0;var c=r("P2sY"),u=r.n(c),l=r("mHBk"),p=(r("p5Bo"),r("DgvE")),d={name:"AddUser",props:{userForm:{type:Object}},data:function(){return{privateKeyMap:{},privateKeyList:localStorage.getItem("privateKeyList")?JSON.parse(localStorage.getItem("privateKeyList")):[]}},mounted:function(){this.addUser()},methods:{addUser:function(){var e=this;Object(l.p)({},{useAes:!1}).then(function(t){var r=t.data;200===t.status?(e.privateKeyMap=r,u()(r,e.userForm),e.privateKeyList.unshift(r),e.privateKeyList=Object(p.i)(e.privateKeyList,"privateKey"),e.$emit("creatUserSuccess",e.privateKeyList),localStorage.setItem("privateKeyList",o()(e.privateKeyList))):e.$message({type:"error",message:r.errorMessage||"系统错误"})}).catch(function(t){e.$message({type:"error",message:"系统错误"})})},transferCh:function(e){var t="";switch(e){case"publicKey":t="用户公钥";break;case"privateKey":t="用户私钥";break;case"address":t="用户地址"}return t},copyAddress:function(e){var t=this;e?this.$copyText(e).then(function(e){t.$message({type:"success",showClose:!0,message:"复制成功",duration:2e3})}):this.$message({type:"fail",showClose:!0,message:"address为空，不复制。",duration:2e3})}}},f=(r("8oDB"),r("KHd+")),m=Object(f.a)(d,i,[],!1,null,"3639a935",null);m.options.__file="src/views/rivateKeyManagement/components/creatUser.vue";var g=m.exports,v=r("J66h").Base64,h=r("Iab2"),b={name:"RivateKeyManagement",components:{"v-contentHead":s.a,"v-creatUser":g},data:function(){return{userForm:{userName:""},loading:!1,creatUserVisible:!1,creatUserNameVisible:!1,privateKeyList:localStorage.getItem("privateKeyList")?JSON.parse(localStorage.getItem("privateKeyList")):[],privateKeyHead:[{enName:"address",name:"地址",tdWidth:""},{enName:"publicKey",name:"公钥",tdWidth:""},{enName:"userName",name:"用户",tdWidth:""},{enName:"operate",name:"操作",tdWidth:80}],fileString:"",uploadMap:{},rules:{userName:[{required:!0,message:"请输入用户名",trigger:"blur"},{pattern:/^\S.*\S*$/g,message:"开头不能是空格",trigger:"blur"}]}}},mounted:function(){},methods:{creatUserBtn:function(){this.creatUserNameVisible=!0},initUserName:function(){this.userForm={userName:""}},closeCallback:function(){this.initUserName()},closeUserName:function(){this.creatUserNameVisible=!1,this.initUserName()},sureUserName:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.creatUserNameVisible=!1,t.creatUserVisible=!0})},copyPubilcKey:function(e){var t=this;e?this.$copyText(e).then(function(e){t.$message({type:"success",showClose:!0,message:"复制成功",duration:2e3})}):this.$message({type:"fail",showClose:!0,message:"key为空，不复制。",duration:2e3})},creatUserSuccess:function(e){this.privateKeyList=e,this.initUserName()},exportFile:function(e){var t=o()(e),r=new Blob([t],{type:"text;charset=utf-8"});h.saveAs(r,e.userName)},importFile:function(e){if(e.target.files.length){this.fileString="";var t=e.target.files[0],r=(Math.ceil(t.size/1024),new FileReader);r.readAsText(t,"UTF-8");var n=this;r.onload=function(e){n.fileString=e.target.result;try{var t={privateKey:v.encode(JSON.parse(n.fileString).privateKey)};Object(l.s)({},t).then(function(e){var t=e.data;200===e.status?(localStorage.setItem("keyInfo",o()(t)),n.uploadMap=JSON.parse(n.fileString),n.privateKeyList.unshift(n.uploadMap),n.privateKeyList=Object(p.i)(n.privateKeyList,"privateKey"),localStorage.setItem("privateKeyList",o()(n.privateKeyList)),n.$message({type:"success",message:"导入成功"})):n.$message({type:"error",message:t.errorMessage||"系统错误"})}).catch(function(e){n.$message({type:"error",message:"系统错误"})})}catch(e){n.$message({type:"error",message:"导入失败"})}}}}}},y=(r("rYv6"),Object(f.a)(b,n,[],!1,null,"117650a5",null));y.options.__file="src/views/rivateKeyManagement/rivateKeyManagement.vue";t.default=y.exports},mHBk:function(e,t,r){"use strict";var n=r("4d7F"),a=r.n(n),o=r("vDqi"),s=r.n(o),i=r("oYx3"),c=s.a.create({timeout:3e4});c.defaults.headers.post["X-Requested-With"]="XMLHttpRequest",c.defaults.responseType="json",c.defaults.validateStatus=function(){return!0},c.interceptors.response.use(function(e){return e.data&&302e3===e.data.code&&i.a.push({path:"/",query:{redirect:i.a.currentRoute.fullPath}}),e},function(e){return a.a.reject(e)});function u(e){return new a.a(function(t,r){c(e).then(function(e){t(e)}).catch(function(e){r(e)})})}function l(e){return new a.a(function(t,r){c(e).then(function(e){t(e)}).catch(function(e){r(e)})})}function p(e){return new a.a(function(t,r){c(e).then(function(e){t(e)}).catch(function(e){r(e)})})}function d(e){return new a.a(function(t,r){c(e).then(function(e){t(e)}).catch(function(e){r(e)})})}var f=r("DgvE");r("Qyje");r.d(t,"A",function(){return g}),r.d(t,"c",function(){return v}),r.d(t,"f",function(){return h}),r.d(t,"b",function(){return b}),r.d(t,"g",function(){return y}),r.d(t,"j",function(){return w}),r.d(t,"h",function(){return _}),r.d(t,"l",function(){return S}),r.d(t,"k",function(){return N}),r.d(t,"o",function(){return L}),r.d(t,"i",function(){return k}),r.d(t,"m",function(){return O}),r.d(t,"q",function(){return U}),r.d(t,"p",function(){return C}),r.d(t,"s",function(){return j}),r.d(t,"n",function(){return I}),r.d(t,"u",function(){return K}),r.d(t,"y",function(){return x}),r.d(t,"w",function(){return T}),r.d(t,"r",function(){return R}),r.d(t,"v",function(){return $}),r.d(t,"x",function(){return q}),r.d(t,"z",function(){return M}),r.d(t,"d",function(){return F}),r.d(t,"B",function(){return V}),r.d(t,"a",function(){return E}),r.d(t,"e",function(){return B}),r.d(t,"C",function(){return H}),r.d(t,"t",function(){return A});var m=null;function g(e){return p({url:url.ORG_LIST+"/account/passwordUpdate",method:"put",data:e})}function v(e){return l({url:url.ORG_LIST+"/network/transDaily/"+e,method:"get"})}function h(e){return l({url:url.ORG_LIST+"/network/general/"+e,method:"get"})}function b(e,t){var r=Object(f.g)(e,t);return l({url:url.ORG_LIST+"/block/blockList/"+r.str,method:"get",params:r.querys})}function y(e,t){var r=Object(f.g)(e,t);return l({url:url.FRONT_PROXY+"/node/nodeList/"+r.str,method:"get",params:r.querys})}function w(e,t){var r=Object(f.g)(e,t);return l({url:url.ORG_LIST+"/monitor/transList/"+r.str,method:"get",params:r.querys})}function _(e,t){var r=Object(f.g)(e,t);return l({url:url.ORG_LIST+"/transaction/transList/"+r.str,method:"get",params:r.querys})}function S(e,t){var r=Object(f.g)(e,t);return l({url:url.ORG_LIST+"/monitor/userList/"+r.str,method:"get",params:r.querys})}function N(e,t){var r=Object(f.g)(e,t);return l({url:url.ORG_LIST+"/monitor/interfaceList/"+r.str,method:"get",params:r.querys})}function L(e){return l({url:""+m+e+"/web3/clientVersion",method:"get"})}function k(e,t){var r=Object(f.g)(e,t);return l({url:m+"performance/"+r.str,method:"get",params:r.querys})}function O(e,t){var r=Object(f.g)(e,t);return l({url:m+"chain/"+r.str,method:"get",params:r.querys})}function U(){return l({url:m+"1/web3/groupList",method:"get"})}function C(e,t){var r=Object(f.g)(e,t);return l({url:m+"privateKey",method:"get",params:r.querys})}function j(e,t){var r=Object(f.g)(e,t);return l({url:m+"privateKey/import",method:"get",params:r.querys})}function I(e){return l({url:""+m+e+"/web3/blockNumber",method:"get"})}function K(e){return l({url:""+m+e+"/web3/groupPeers",method:"get"})}function x(e){return l({url:""+m+e+"/web3/transaction-total",method:"get"})}function T(e){return l({url:""+m+e+"/web3/pending-transactions-count",method:"get"})}function R(e,t){var r=Object(f.g)(e,t);return l({url:""+m+e+"/web3/search",method:"get",params:r.querys,responseType:"json"})}function $(e){return l({url:""+m+e+"/web3/getNodeStatusList",method:"get"})}function q(e,t){return l({url:""+m+e+"/web3/transaction/"+t,method:"get"})}function M(e,t){return l({url:""+m+e+"/web3/transactionReceipt/"+t,method:"get"})}function F(e){return l({url:m+"contract/contractList",method:"post",data:e})}function V(e){return u({url:m+"contract/save",method:"post",data:e})}function E(e,t){var r=Object(f.g)(e,t);return d({url:m+"contract/"+r.str,method:"delete"})}function B(e){return u({url:m+"contract/deploy",method:"post",data:e,responseType:"text"})}function H(e){return u({url:m+"trans/handle",method:"post",data:e})}function A(e,t){return u({url:m+"contract/compile-java",method:"post",data:e,responseType:"blob/json"})}m=""},qse9:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"content-head-wrapper"},[r("div",{staticClass:"content-head-title"},[e.icon?r("span",{staticClass:"content-head-icon",on:{click:e.skip}},[r("i",{staticClass:"wbs-icon-back"})]):e._e(),e._v(" "),r("span",{class:{"font-color-9da2ab":e.headSubTitle}},[e._v(e._s(e.title))]),e._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:e.headSubTitle,expression:"headSubTitle"}],staticClass:"font-color-9da2ab"},[e._v("/")]),e._v(" "),r("span",[e._v(e._s(e.headSubTitle))])]),e._v(" "),r("div",{staticClass:"content-head-network"},[e.version?r("div",{staticClass:"content-head-item font-color-8798ad"},[r("span",[e._v("当前版本:"+e._s(e.version))])]):e._e(),e._v(" "),r("div",{staticClass:"content-head-item"},[r("span",{staticStyle:{padding:"1px 5px","border-left":"1px solid #657d95"}}),e._v(" "),r("span",{staticClass:"font-color-fff group-content",on:{click:function(t){e.groupVisible=!e.groupVisible}}},[e._v("\n                群组："+e._s(e.groupName)+"\n                "),r("ul",{directives:[{name:"show",rawName:"v-show",value:e.groupVisible,expression:"groupVisible"}]},e._l(e.groupList,function(t){return r("li",{key:t.group,on:{click:function(r){e.changeGroup(t)}}},[e._v(e._s(t.groupName))])}),0)]),e._v(" "),r("i",{class:[e.groupVisible?"el-icon-arrow-up":"el-icon-arrow-down","select-network"]})])])])};n._withStripped=!0;var a=r("gDS+"),o=r.n(a),s=r("oYx3"),i=r("mHBk"),c=(r("DgvE"),{name:"conetnt-head",props:["headTitle","icon","route","headSubTitle"],components:{},watch:{headTitle:function(e){this.title=e}},data:function(){return{title:this.headTitle,headIcon:this.icon||!1,way:this.route||"",path:"",group:localStorage.getItem("groupId")?localStorage.getItem("groupId"):"1",groupName:localStorage.getItem("groupName")?localStorage.getItem("groupName"):"group1",groupVisible:!1,groupList:localStorage.getItem("cluster")?JSON.parse(localStorage.getItem("cluster")):[],version:localStorage.getItem("fisco-bcos-version")?localStorage.getItem("fisco-bcos-version"):""}},mounted:function(){localStorage.getItem("groupId")&&(this.group=localStorage.getItem("groupId")),"/home"==this.$route.path&&(this.getGroup(),this.getClientVersion())},methods:{getClientVersion:function(){var e=this;Object(i.o)(this.group).then(function(t){var r=t.data,n=t.status;t.statusText;200===n?(e.version=r["FISCO-BCOS Version"],localStorage.setItem("fisco-bcos-version",e.version)):e.$message({type:"error",message:r.errorMessage||"系统错误"})}).catch(function(t){e.$message({type:"error",message:"系统错误"})})},getGroup:function(){var e=this;Object(i.q)().then(function(t){var r=t.data,n=t.status;t.statusText;if(200===n){for(var a=r.sort(),s=[],i=0;i<a.length;i++)s.push({group:a[i],groupName:"group"+a[i]});e.groupList=s,localStorage.setItem("groupId",e.group),localStorage.setItem("cluster",o()(s))}else e.$message({type:"error",message:r.errorMessage||"系统错误"})}).catch(function(t){e.$message({type:"error",message:"系统错误"})})},skip:function(){this.route?s.a.push(this.way):this.$router.go(-1)},changeGroup:function(e){this.group=e.group,this.groupName=e.groupName,this.path=this.$route.path,localStorage.setItem("groupId",this.group),localStorage.setItem("groupName",this.groupName),this.$emit("changeGroup",this.group),this.getClientVersion()}}}),u=(r("8t7H"),r("KHd+")),l=Object(u.a)(c,n,[],!1,null,"7ba17399",null);l.options.__file="src/components/contentHead.vue";t.a=l.exports},rYv6:function(e,t,r){"use strict";var n=r("/0Jq");r.n(n).a},uXmc:function(e,t,r){}}]);