(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"/0Jq":function(t,e,n){},"8oDB":function(t,e,n){"use strict";var r=n("Cb9/");n.n(r).a},"8t7H":function(t,e,n){"use strict";var r=n("uXmc");n.n(r).a},"Cb9/":function(t,e,n){},Iab2:function(t,e,n){(function(n){var r,o,a;o=[],void 0===(a="function"==typeof(r=function(){"use strict";function e(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){s(r.response,e,n)},r.onerror=function(){console.error("could not download file")},r.send()}function r(t){var e=new XMLHttpRequest;return e.open("HEAD",t,!1),e.send(),200<=e.status&&299>=e.status}function o(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,s=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype?function(t,n,s){var i=a.URL||a.webkitURL,c=document.createElement("a");n=n||t.name||"download",c.download=n,c.rel="noopener","string"==typeof t?(c.href=t,c.origin===location.origin?o(c):r(c.href)?e(t,n,s):o(c,c.target="_blank")):(c.href=i.createObjectURL(t),setTimeout(function(){i.revokeObjectURL(c.href)},4e4),setTimeout(function(){o(c)},0))}:"msSaveOrOpenBlob"in navigator?function(t,n,a){if(n=n||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,a),n);else if(r(t))e(t,n,a);else{var s=document.createElement("a");s.href=t,s.target="_blank",setTimeout(function(){o(s)})}}:function(t,n,r,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof t)return e(t,n,r);var s="application/octet-stream"===t.type,i=/constructor/i.test(a.HTMLElement)||a.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||s&&i)&&"object"==typeof FileReader){var u=new FileReader;u.onloadend=function(){var t=u.result;t=c?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=t:location=t,o=null},u.readAsDataURL(t)}else{var l=a.URL||a.webkitURL,p=l.createObjectURL(t);o?o.location=p:location.href=p,o=null,setTimeout(function(){l.revokeObjectURL(p)},4e4)}});a.saveAs=s.saveAs=s,t.exports=s})?r.apply(e,o):r)||(t.exports=a)}).call(this,n("yLpj"))},YUMh:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rivate-key-management-wrapper"},[n("v-contentHead",{attrs:{headTitle:"私钥管理"}}),t._v(" "),n("div",{staticClass:"module-wrapper",staticStyle:{"padding-bottom":"20px"}},[n("div",{staticClass:"search-part"},[n("div",{staticStyle:{display:"flex"}},[n("el-button",{staticClass:"search-part-left-btn",attrs:{type:"primary"},on:{click:function(e){t.$store.dispatch("switch_creat_user_dialog")}}},[t._v("新增账户")]),t._v(" "),n("span",{staticClass:"fileinput-button"},[n("span",[t._v("导入私钥")]),t._v(" "),n("input",{attrs:{type:"file"},on:{change:function(e){t.importFile(e)}}})])],1)]),t._v(" "),n("div",{staticClass:"search-table"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.privateKeyList,"tooltip-effect":"light"}},t._l(t.privateKeyHead,function(e){return n("el-table-column",{key:e.enName,attrs:{label:e.name,"show-overflow-tooltip":"",width:t.tdWidth[e.enName]||"",align:"center"},scopedSlots:t._u([{key:"default",fn:function(r){return["operate"!=e.enName?["address"===e.enName?n("span",[n("i",{staticClass:"wbs-icon-copy font-12 copy-public-key",attrs:{title:"复制地址"},on:{click:function(n){t.copyPubilcKey(r.row[e.enName])}}}),t._v("\n                                "+t._s(r.row[e.enName])+"\n                            ")]):n("span",[t._v(t._s(r.row[e.enName]))])]:[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){t.exportFile(r.row)}}},[t._v("导出")])]]}}])})}),1)],1)]),t._v(" "),t.$store.state.creatUserVisible?n("el-dialog",{staticClass:"dialog-wrapper",attrs:{visible:t.$store.state.creatUserVisible,title:"新建用户",width:"952px","append-to-body":!0,center:""},on:{"update:visible":function(e){t.$set(t.$store.state,"creatUserVisible",e)}}},[n("v-creatUser",{ref:"creatUser",on:{creatUserSuccess:t.creatUserSuccess}})],1):t._e()],1)};r._withStripped=!0;var o=n("gDS+"),a=n.n(o),s=n("qse9"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"key-dialog"},[n("div",{staticClass:"divide-line"}),t._v(" "),n("div",{staticStyle:{"margin-bottom":"10px"}},[n("table",{staticClass:"rivate-key-dialog"},t._l(t.privateKeyMap,function(e,r){return n("tr",[n("td",{staticClass:"dialog-text"},[t._v("\n                    "+t._s(t.transferCh(r))+"："+t._s(e)+"\n                    "),n("i",{staticClass:"wbs-icon-copy font-12",staticStyle:{"margin-left":"5px"},attrs:{title:"复制"+t.transferCh(r)},on:{click:function(n){t.copyAddress(e)}}})])])}),0),t._v(" "),n("i",{staticClass:"el-icon-warning font-color-ed5454"},[t._v(" 请记得保存私钥！ ")])])])};i._withStripped=!0;var c=n("mHBk"),u=(n("p5Bo"),n("DgvE")),l={name:"AddUser",data:function(){return{privateKeyMap:{},privateKeyList:sessionStorage.getItem("privateKeyList")?JSON.parse(sessionStorage.getItem("privateKeyList")):[]}},mounted:function(){this.addUser()},methods:{addUser:function(){var t=this;Object(c.q)().then(function(e){var n=e.data;200===e.status?(t.privateKeyMap=n,t.privateKeyList.unshift(n),t.privateKeyList=Object(u.i)(t.privateKeyList,"privateKey"),t.$emit("creatUserSuccess",t.privateKeyList),sessionStorage.setItem("privateKeyList",a()(t.privateKeyList))):t.$message({type:"error",message:n.errorMessage||"系统错误"})}).catch(function(e){t.$message({type:"error",message:"系统错误"})})},transferCh:function(t){var e="";switch(t){case"publicKey":e="用户公钥";break;case"privateKey":e="用户私钥";break;case"address":e="用户地址"}return e},copyAddress:function(t){var e=this;t?this.$copyText(t).then(function(t){e.$message({type:"success",showClose:!0,message:"复制成功",duration:2e3})}):this.$message({type:"fail",showClose:!0,message:"address为空，不复制。",duration:2e3})}}},p=(n("8oDB"),n("KHd+")),d=Object(p.a)(l,i,[],!1,null,"3639a935",null);d.options.__file="src/views/rivateKeyManagement/components/creatUser.vue";var f=d.exports,g=n("J66h").Base64,m=n("Iab2"),v={name:"RivateKeyManagement",components:{"v-contentHead":s.a,"v-creatUser":f},data:function(){return{userName:this.$route.query.userName||"",loading:!1,privateKeyList:sessionStorage.getItem("privateKeyList")?JSON.parse(sessionStorage.getItem("privateKeyList")):[],privateKeyHead:[{enName:"address",name:"地址"},{enName:"publicKey",name:"公钥"},{enName:"operate",name:"操作"}],tdWidth:{},fileString:"",uploadMap:{}}},mounted:function(){},methods:{handleClose:function(){this.$refs.creatUser.modelClose()},copyPubilcKey:function(t){var e=this;t?this.$copyText(t).then(function(t){e.$message({type:"success",showClose:!0,message:"复制成功",duration:2e3})}):this.$message({type:"fail",showClose:!0,message:"key为空，不复制。",duration:2e3})},creatUserSuccess:function(t){this.privateKeyList=t},exportFile:function(t){var e=a()(t),n=new Blob([e],{type:"text;charset=utf-8"});m.saveAs(n,"key")},importFile:function(t){if(t.target.files.length){this.fileString="";var e=t.target.files[0],n=(Math.ceil(e.size/1024),new FileReader);n.readAsText(e,"UTF-8");var r=this;n.onload=function(t){r.fileString=t.target.result;try{var e={privateKey:g.encode(JSON.parse(r.fileString).privateKey)};Object(c.t)({},e).then(function(t){var e=t.data;200===t.status?(localStorage.setItem("keyInfo",a()(e)),r.uploadMap=JSON.parse(r.fileString),r.privateKeyList.unshift(r.uploadMap),r.privateKeyList=Object(u.i)(r.privateKeyList,"privateKey"),sessionStorage.setItem("privateKeyList",a()(r.privateKeyList)),r.$message({type:"success",message:"导入成功"})):r.$message({type:"error",message:e.errorMessage||"系统错误"})}).catch(function(t){r.$message({type:"error",message:"系统错误"})})}catch(t){r.$message({type:"error",message:"导入失败"})}}}}}},h=(n("rYv6"),Object(p.a)(v,r,[],!1,null,"117650a5",null));h.options.__file="src/views/rivateKeyManagement/rivateKeyManagement.vue";e.default=h.exports},mHBk:function(t,e,n){"use strict";var r=n("4d7F"),o=n.n(r),a=n("vDqi"),s=n.n(a),i=n("oYx3"),c=s.a.create({timeout:3e4});c.defaults.headers.post["X-Requested-With"]="XMLHttpRequest",c.defaults.responseType="json",c.defaults.validateStatus=function(){return!0},c.interceptors.response.use(function(t){return t.data&&302e3===t.data.code&&i.a.push({path:"/",query:{redirect:i.a.currentRoute.fullPath}}),t},function(t){return o.a.reject(t)});function u(t){return new o.a(function(e,n){c(t).then(function(t){e(t)}).catch(function(t){n(t)})})}function l(t){return new o.a(function(e,n){c(t).then(function(t){e(t)}).catch(function(t){n(t)})})}function p(t){return new o.a(function(e,n){c(t).then(function(t){e(t)}).catch(function(t){n(t)})})}function d(t){return new o.a(function(e,n){c(t).then(function(t){e(t)}).catch(function(t){n(t)})})}var f=n("DgvE");n("Qyje");n.d(e,"B",function(){return m}),n.d(e,"d",function(){return v}),n.d(e,"g",function(){return h}),n.d(e,"c",function(){return y}),n.d(e,"h",function(){return b}),n.d(e,"k",function(){return w}),n.d(e,"i",function(){return _}),n.d(e,"m",function(){return S}),n.d(e,"l",function(){return L}),n.d(e,"p",function(){return O}),n.d(e,"j",function(){return k}),n.d(e,"n",function(){return C}),n.d(e,"r",function(){return I}),n.d(e,"q",function(){return K}),n.d(e,"t",function(){return j}),n.d(e,"o",function(){return T}),n.d(e,"v",function(){return x}),n.d(e,"z",function(){return N}),n.d(e,"x",function(){return $}),n.d(e,"s",function(){return R}),n.d(e,"w",function(){return U}),n.d(e,"y",function(){return M}),n.d(e,"A",function(){return q}),n.d(e,"e",function(){return E}),n.d(e,"C",function(){return H}),n.d(e,"b",function(){return B}),n.d(e,"f",function(){return G}),n.d(e,"D",function(){return V}),n.d(e,"u",function(){return A});var g=null;function m(t){return p({url:url.ORG_LIST+"/account/passwordUpdate",method:"put",data:t})}function v(t){return l({url:url.ORG_LIST+"/network/transDaily/"+t,method:"get"})}function h(t){return l({url:url.ORG_LIST+"/network/general/"+t,method:"get"})}function y(t,e){var n=Object(f.g)(t,e);return l({url:url.ORG_LIST+"/block/blockList/"+n.str,method:"get",params:n.querys})}function b(t,e){var n=Object(f.g)(t,e);return l({url:url.FRONT_PROXY+"/node/nodeList/"+n.str,method:"get",params:n.querys})}function w(t,e){var n=Object(f.g)(t,e);return l({url:url.ORG_LIST+"/monitor/transList/"+n.str,method:"get",params:n.querys})}function _(t,e){var n=Object(f.g)(t,e);return l({url:url.ORG_LIST+"/transaction/transList/"+n.str,method:"get",params:n.querys})}function S(t,e){var n=Object(f.g)(t,e);return l({url:url.ORG_LIST+"/monitor/userList/"+n.str,method:"get",params:n.querys})}function L(t,e){var n=Object(f.g)(t,e);return l({url:url.ORG_LIST+"/monitor/interfaceList/"+n.str,method:"get",params:n.querys})}function O(t){return l({url:""+g+t+"/web3/clientVersion",method:"get"})}function k(t,e){var n=Object(f.g)(t,e);return l({url:g+"performance/"+n.str,method:"get",params:n.querys})}function C(t,e){var n=Object(f.g)(t,e);return l({url:g+"chain/"+n.str,method:"get",params:n.querys})}function I(){return l({url:g+"1/web3/groupList",method:"get"})}function K(){return l({url:g+"privateKey",method:"get"})}function j(t,e){var n=Object(f.g)(t,e);return l({url:g+"privateKey/import",method:"get",params:n.querys})}function T(t){return l({url:""+g+t+"/web3/blockNumber",method:"get"})}function x(t){return l({url:""+g+t+"/web3/groupPeers",method:"get"})}function N(t){return l({url:""+g+t+"/web3/transaction-total",method:"get"})}function $(t){return l({url:""+g+t+"/web3/pending-transactions-count",method:"get"})}function R(t,e){var n=Object(f.g)(t,e);return l({url:""+g+t+"/web3/search",method:"get",params:n.querys,responseType:"json"})}function U(t){return l({url:""+g+t+"/web3/getNodeStatusList",method:"get"})}function M(t,e){return l({url:""+g+t+"/web3/transaction/"+e,method:"get"})}function q(t,e){return l({url:""+g+t+"/web3/transactionReceipt/"+e,method:"get"})}function E(t){return l({url:g+"contract/contractList",method:"post",data:t})}function H(t){return u({url:g+"contract/save",method:"post",data:t})}function B(t,e){var n=Object(f.g)(t,e);return d({url:g+"contract/"+n.str,method:"delete"})}function G(t){return u({url:g+"contract/deploy",method:"post",data:t,responseType:"text"})}function V(t){return u({url:g+"trans/handle",method:"post",data:t})}function A(t,e){return u({url:g+"contract/compile-java",method:"post",data:t,responseType:"blob/json"})}g=""},qse9:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content-head-wrapper"},[n("div",{staticClass:"content-head-title"},[t.icon?n("span",{staticClass:"content-head-icon",on:{click:t.skip}},[n("i",{staticClass:"wbs-icon-back"})]):t._e(),t._v(" "),n("span",{class:{"font-color-9da2ab":t.headSubTitle}},[t._v(t._s(t.title))]),t._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:t.headSubTitle,expression:"headSubTitle"}],staticClass:"font-color-9da2ab"},[t._v("/")]),t._v(" "),n("span",[t._v(t._s(t.headSubTitle))])]),t._v(" "),n("div",{staticClass:"content-head-network"},[t.version?n("div",{staticClass:"content-head-item font-color-8798ad"},[n("span",[t._v("当前版本:"+t._s(t.version))])]):t._e(),t._v(" "),n("div",{staticClass:"content-head-item"},[n("span",{staticStyle:{padding:"1px 5px","border-left":"1px solid #657d95"}}),t._v(" "),n("span",{staticClass:"font-color-fff group-content",on:{click:function(e){t.groupVisible=!t.groupVisible}}},[t._v("\n                群组："+t._s(t.groupName)+"\n                "),n("ul",{directives:[{name:"show",rawName:"v-show",value:t.groupVisible,expression:"groupVisible"}]},t._l(t.groupList,function(e){return n("li",{key:e.group,on:{click:function(n){t.changeGroup(e)}}},[t._v(t._s(e.groupName))])}),0)]),t._v(" "),n("i",{class:[t.groupVisible?"el-icon-arrow-up":"el-icon-arrow-down","select-network"]})])])])};r._withStripped=!0;var o=n("gDS+"),a=n.n(o),s=n("oYx3"),i=n("mHBk"),c=(n("DgvE"),{name:"conetnt-head",props:["headTitle","icon","route","headSubTitle"],components:{},watch:{headTitle:function(t){this.title=t}},data:function(){return{title:this.headTitle,headIcon:this.icon||!1,way:this.route||"",path:"",group:localStorage.getItem("groupId")?localStorage.getItem("groupId"):"1",groupName:localStorage.getItem("groupName")?localStorage.getItem("groupName"):"group1",groupVisible:!1,groupList:localStorage.getItem("cluster")?JSON.parse(localStorage.getItem("cluster")):[],version:localStorage.getItem("fisco-bcos-version")?localStorage.getItem("fisco-bcos-version"):""}},mounted:function(){localStorage.getItem("groupId")&&(this.group=localStorage.getItem("groupId")),"/home"==this.$route.path&&(this.getGroup(),this.getClientVersion())},methods:{getClientVersion:function(){var t=this;Object(i.p)(this.group).then(function(e){var n=e.data,r=e.status;e.statusText;200===r?(t.version=n["FISCO-BCOS Version"],localStorage.setItem("fisco-bcos-version",t.version)):t.$message({type:"error",message:n.errorMessage||"系统错误"})}).catch(function(e){t.$message({type:"error",message:"系统错误"})})},getGroup:function(){var t=this;Object(i.r)().then(function(e){var n=e.data,r=e.status;e.statusText;if(200===r){for(var o=n.sort(),s=[],i=0;i<o.length;i++)s.push({group:o[i],groupName:"group"+o[i]});t.groupList=s,localStorage.setItem("groupId",t.group),localStorage.setItem("cluster",a()(s))}else t.$message({type:"error",message:n.errorMessage||"系统错误"})}).catch(function(e){t.$message({type:"error",message:"系统错误"})})},skip:function(){this.route?s.a.push(this.way):this.$router.go(-1)},changeGroup:function(t){this.group=t.group,this.groupName=t.groupName,this.path=this.$route.path,localStorage.setItem("groupId",this.group),localStorage.setItem("groupName",this.groupName),this.$emit("changeGroup",this.group),this.getClientVersion()}}}),u=(n("8t7H"),n("KHd+")),l=Object(u.a)(c,r,[],!1,null,"7ba17399",null);l.options.__file="src/components/contentHead.vue";e.a=l.exports},rYv6:function(t,e,n){"use strict";var r=n("/0Jq");n.n(r).a},uXmc:function(t,e,n){}}]);